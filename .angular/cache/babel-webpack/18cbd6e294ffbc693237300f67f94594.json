{"ast":null,"code":"import _asyncToGenerator from \"D:/Projects/Angular/serverless-angular-workshop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { loadStripe } from '@stripe/stripe-js';\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class OrganizationItemComponent {\n  constructor(http) {\n    var _this = this;\n\n    this.http = http;\n    this.organization = {\n      name: 'Organization Name',\n      website: 'https://organization.org',\n      description: 'This will describe the organization.',\n      donationAmount: '10',\n      twitter: 'https://twitter.com/organization',\n      image: 'https://bit.ly/2ZdePYO'\n    };\n\n    this.triggerCreateCheckout = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (eventOrganization) {\n        const createCheckoutResponse = _this.http.post('/.netlify/functions/createCheckout', eventOrganization, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        const lastResponse = yield lastValueFrom(createCheckoutResponse);\n\n        _this.openStripe(lastResponse);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.openStripe = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (stripeParams) {\n        const stripe = yield loadStripe(stripeParams.publishableKey);\n        const {\n          error\n        } = yield stripe.redirectToCheckout({\n          sessionId: stripeParams.sessionId\n        });\n      });\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n  }\n\n  ngOnInit() {}\n\n}\n\nOrganizationItemComponent.ɵfac = function OrganizationItemComponent_Factory(t) {\n  return new (t || OrganizationItemComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nOrganizationItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrganizationItemComponent,\n  selectors: [[\"app-organization-item\"]],\n  inputs: {\n    organization: \"organization\"\n  },\n  decls: 13,\n  vars: 6,\n  consts: [[1, \"organization-item-card\"], [3, \"src\"], [1, \"organization-name\"], [3, \"href\"], [1, \"donate-button\"], [3, \"click\"]],\n  template: function OrganizationItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"h3\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"a\", 3);\n      i0.ɵɵtext(7, \"Link | \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"a\", 3);\n      i0.ɵɵtext(9, \"Twitter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 4);\n      i0.ɵɵelementStart(11, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function OrganizationItemComponent_Template_button_click_11_listener() {\n        return ctx.triggerCreateCheckout(ctx.organization);\n      });\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.organization.image, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.organization.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.organization.description);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"href\", ctx.organization.website, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"href\", ctx.organization.twitter, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" Donate $\", ctx.organization.donationAmount, \" \");\n    }\n  },\n  styles: [\"a[_ngcontent-%COMP%] {\\r\\n  font-size: 17px;\\r\\n  text-decoration: none;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  font-size: 15px;\\r\\n  height: 40px;\\r\\n  margin-top: 15px;\\r\\n  padding: 5px;\\r\\n  width: 90px;\\r\\n}\\r\\nimg[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 10px;\\r\\n  width: 100%;\\r\\n}\\r\\np[_ngcontent-%COMP%] {\\r\\n  margin: 10px 0;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZ2FuaXphdGlvbi1pdGVtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osV0FBVztBQUNiO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsV0FBVztBQUNiO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCIiwiZmlsZSI6Im9yZ2FuaXphdGlvbi1pdGVtLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhIHtcclxuICBmb250LXNpemU6IDE3cHg7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcbmJ1dHRvbiB7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIGhlaWdodDogNDBweDtcclxuICBtYXJnaW4tdG9wOiAxNXB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICB3aWR0aDogOTBweDtcclxufVxyXG5pbWcge1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxucCB7XHJcbiAgbWFyZ2luOiAxMHB4IDA7XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"sources":["D:/Projects/Angular/serverless-angular-workshop/src/app/components/organization-item/organization-item.component.ts"],"names":["loadStripe","lastValueFrom","i0","i1","OrganizationItemComponent","constructor","http","organization","name","website","description","donationAmount","twitter","image","triggerCreateCheckout","eventOrganization","createCheckoutResponse","post","headers","lastResponse","openStripe","stripeParams","stripe","publishableKey","error","redirectToCheckout","sessionId","ngOnInit","ɵfac","OrganizationItemComponent_Factory","t","ɵɵdirectiveInject","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","OrganizationItemComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","OrganizationItemComponent_Template_button_click_11_listener","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","ɵɵtextInterpolate","ɵɵpropertyInterpolate","ɵɵtextInterpolate1","styles"],"mappings":"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","sourcesContent":["import { loadStripe } from '@stripe/stripe-js';\r\nimport { lastValueFrom } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nexport class OrganizationItemComponent {\r\n    constructor(http) {\r\n        this.http = http;\r\n        this.organization = {\r\n            name: 'Organization Name',\r\n            website: 'https://organization.org',\r\n            description: 'This will describe the organization.',\r\n            donationAmount: '10',\r\n            twitter: 'https://twitter.com/organization',\r\n            image: 'https://bit.ly/2ZdePYO',\r\n        };\r\n        this.triggerCreateCheckout = async (eventOrganization) => {\r\n            const createCheckoutResponse = this.http.post('/.netlify/functions/createCheckout', eventOrganization, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n            const lastResponse = await lastValueFrom(createCheckoutResponse);\r\n            this.openStripe(lastResponse);\r\n        };\r\n        this.openStripe = async (stripeParams) => {\r\n            const stripe = await loadStripe(stripeParams.publishableKey);\r\n            const { error } = await stripe.redirectToCheckout({\r\n                sessionId: stripeParams.sessionId,\r\n            });\r\n        };\r\n    }\r\n    ngOnInit() { }\r\n}\r\nOrganizationItemComponent.ɵfac = function OrganizationItemComponent_Factory(t) { return new (t || OrganizationItemComponent)(i0.ɵɵdirectiveInject(i1.HttpClient)); };\r\nOrganizationItemComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: OrganizationItemComponent, selectors: [[\"app-organization-item\"]], inputs: { organization: \"organization\" }, decls: 13, vars: 6, consts: [[1, \"organization-item-card\"], [3, \"src\"], [1, \"organization-name\"], [3, \"href\"], [1, \"donate-button\"], [3, \"click\"]], template: function OrganizationItemComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelement(1, \"img\", 1);\r\n        i0.ɵɵelementStart(2, \"h3\", 2);\r\n        i0.ɵɵtext(3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"p\");\r\n        i0.ɵɵtext(5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"a\", 3);\r\n        i0.ɵɵtext(7, \"Link | \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"a\", 3);\r\n        i0.ɵɵtext(9, \"Twitter\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"div\", 4);\r\n        i0.ɵɵelementStart(11, \"button\", 5);\r\n        i0.ɵɵlistener(\"click\", function OrganizationItemComponent_Template_button_click_11_listener() { return ctx.triggerCreateCheckout(ctx.organization); });\r\n        i0.ɵɵtext(12);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"src\", ctx.organization.image, i0.ɵɵsanitizeUrl);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate(ctx.organization.name);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate(ctx.organization.description);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵpropertyInterpolate(\"href\", ctx.organization.website, i0.ɵɵsanitizeUrl);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵpropertyInterpolate(\"href\", ctx.organization.twitter, i0.ɵɵsanitizeUrl);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵtextInterpolate1(\" Donate $\", ctx.organization.donationAmount, \" \");\r\n    } }, styles: [\"a[_ngcontent-%COMP%] {\\r\\n  font-size: 17px;\\r\\n  text-decoration: none;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  font-size: 15px;\\r\\n  height: 40px;\\r\\n  margin-top: 15px;\\r\\n  padding: 5px;\\r\\n  width: 90px;\\r\\n}\\r\\nimg[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 10px;\\r\\n  width: 100%;\\r\\n}\\r\\np[_ngcontent-%COMP%] {\\r\\n  margin: 10px 0;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZ2FuaXphdGlvbi1pdGVtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osV0FBVztBQUNiO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsV0FBVztBQUNiO0FBQ0E7RUFDRSxjQUFjO0FBQ2hCIiwiZmlsZSI6Im9yZ2FuaXphdGlvbi1pdGVtLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhIHtcclxuICBmb250LXNpemU6IDE3cHg7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcbmJ1dHRvbiB7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIGhlaWdodDogNDBweDtcclxuICBtYXJnaW4tdG9wOiAxNXB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICB3aWR0aDogOTBweDtcclxufVxyXG5pbWcge1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxucCB7XHJcbiAgbWFyZ2luOiAxMHB4IDA7XHJcbn1cclxuIl19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}